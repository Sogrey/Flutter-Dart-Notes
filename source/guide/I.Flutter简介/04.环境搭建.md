# 环境搭建

## Flutter环境搭建配置

### 配置事项

- 配置国内镜像

  如果你在国内使用 Flutter，那么你可能需要找一个与官方同步的可信的镜像站点，帮助你的 Flutter 命令行工具到该镜像站点下载其所需的资源。
  你需要为此设置两个环境变量: PUB_HOSTED_URL 和 FLUTTER_STORAGE_BASE_URL，然后再运行 Flutter 命令行工具，查看[设置教程](https://flutter-io.cn/community/china)。

```
  ### Flutter 社区

  FLUTTER_STORAGE_BASE_URL: https://storage.flutter-io.cn
  PUB_HOSTED_URL: https://pub.flutter-io.cn

  ### 清华大学 TUNA 协会

  FLUTTER_STORAGE_BASE_URL: https://mirrors.tuna.tsinghua.edu.cn/flutter
  PUB_HOSTED_URL: https://mirrors.tuna.tsinghua.edu.cn/dart-pub
```
  > 注意：我们无法保证这些镜像网站得以长期维护和运行，请慎重选择一些可信的镜像网站。

  摘自：[https://flutter.cn/](https://flutter.cn/)

- 配置Gradle工具和环境变量

- 配置JDK和SDK环境，注意安装SDK时需要同意Android license

- Flutter打开很慢，需要配置以加快打开速度

  解决方法：Android Studio 安装目录下的bin目录， 找到idea.properties文件，在文件最后追加代码`disable.android.first.run=true`,然后保存。

- 配置cpu支持， 解决部分机型兼容性问题

  解决方法：根目录/android/app/build.gradle, 在android节点里面添加以下内容：

  ``` gradle
  splits {
         abi{include'x86', 'armeabi-v7a', 'x86_64'}
  }
  ```

  缺少哪个cpu支持 就加上哪个cpu。

### 遇到问题

- `flutter upgrade`出现的红色错误提示。

  如：BitsTransformer或CategoryInfo之类关键字。主要是网络原因，从网络获取依赖时出错。

- `flutter doctor( -v)`出现的红色错误提示。

  如：BitsTransformer或CategoryInfo之类关键字。

- `Some Android licenses not accepted.` 或 `Android licenses status unknown`错误提示。

  解决：命令行输入`flutter doctor --android-licenses`，根据提示输入`y`即可。


## 常用命令行